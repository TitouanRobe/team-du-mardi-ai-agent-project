/* ui/static/loader.css */

/* --- 1. L'ÉCRAN DE CHARGEMENT (FOND) --- */
#loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    /* Dégradé de ciel bleu */
    background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%);
    z-index: 10000;
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

/* --- 2. LA VILLE (Silhouette en bas) --- */
.cityscape {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 25vh;
    /* Image SVG encodée directement pour éviter un chargement externe */
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 200" preserveAspectRatio="none"><polygon points="0,200 0,150 50,150 50,100 100,100 100,180 150,180 150,80 200,80 200,190 250,190 250,120 300,120 300,170 350,170 350,50 400,50 400,180 450,180 450,100 500,100 500,160 550,160 550,90 600,90 600,190 650,190 650,130 700,130 700,170 750,170 750,60 800,60 800,180 850,180 850,110 900,110 900,160 950,160 950,140 1000,140 1000,200" fill="%232c3e50"/></svg>');
    background-repeat: repeat-x;
    background-size: cover;
    z-index: 1;
}

/* --- 3. CONTENEUR DE L'AVION --- */
.plane-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    /* Permet de cliquer à travers si besoin */
    z-index: 10;
}

/* --- 4. L'AVION ET SA TRAJECTOIRE --- */
.plane {
    /* --- L'IMAGE --- */
    /* Assurez-vous que l'image est dans ui/static/ et pointe vers la DROITE */
    background-image: 'plane-side.png';
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;

    /* --- LA TAILLE --- */
    /* Ajustez selon la forme de votre avion */
    width: 150px;
    height: 80px;

    position: absolute;
    /* offset-anchor permet de pivoter autour du centre de l'avion */
    offset-anchor: center;

    /* --- LA TRAJECTOIRE (COURBE) --- */
    /* M = Départ (Hors écran gauche bas) 
       C = Courbe (Vers le haut au milieu) 
       Fin = (Hors écran droite bas) */
    /* Note : Les valeurs sont en pixels relatifs à la fenêtre */
    offset-path: path('M -200,600 C 400,-100 800,-100 1400,600');

    /* --- L'ORIENTATION AUTOMATIQUE --- */
    /* "auto" fait tourner l'image pour suivre la ligne.
       "0deg" suppose que l'image pointe vers la droite. */
    offset-rotate: auto 0deg;

    /* --- L'ANIMATION --- */
    animation: fly-curve 5s linear infinite;
}

/* Définition du mouvement */
@keyframes fly-curve {
    0% {
        offset-distance: 0%;
        /* Début du chemin */
        opacity: 0;
    }

    10% {
        opacity: 1;
        /* Apparaît en entrant */
    }

    90% {
        opacity: 1;
    }

    100% {
        offset-distance: 100%;
        /* Fin du chemin */
        opacity: 0;
    }
}

/* --- 5. TEXTE DE CHARGEMENT --- */
.loading-text {
    position: absolute;
    bottom: 30vh;
    /* Positionné au-dessus de la ville */
    font-family: 'Arial', sans-serif;
    color: white;
    font-size: 1.5rem;
    font-weight: bold;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    text-align: center;
    animation: pulse-text 1.5s infinite alternate;
    z-index: 20;
}

@keyframes pulse-text {
    from {
        opacity: 0.8;
        transform: scale(1);
    }

    to {
        opacity: 1;
        transform: scale(1.05);
    }
}

/* --- 6. NUAGES DÉCORATIFS --- */
.cloud {
    position: absolute;
    color: rgba(255, 255, 255, 0.8);
    z-index: 5;
    animation: float-cloud 20s linear infinite;
    user-select: none;
}

.c1 {
    top: 15%;
    left: -10%;
    font-size: 100px;
    animation-duration: 25s;
}

.c2 {
    top: 35%;
    left: -20%;
    font-size: 70px;
    animation-duration: 30s;
    opacity: 0.6;
}

@keyframes float-cloud {
    from {
        transform: translateX(0);
    }

    to {
        transform: translateX(120vw);
    }
}